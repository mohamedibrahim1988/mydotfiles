#!/bin/sh
setxkbmap -layout us,ara -option grp:win_space_toggle
# Variables
movie_dir="/media/mohamed/Movies/Movies"
rofi_command="rofi -dmenu -theme $HOME/.config/rofi/styles/MoviePlay.rasi"

# Choose movie or subdirectory
dir_selection=$(rg -g '!.git' -g '!*.srt' -g '!*.jpg' -g '!*.png' -g '!Thumbs.db' --files "$movie_dir" \
    | sort -u \
    | sed "s|$movie_dir/||" \
    | $rofi_command)

[ -z "$dir_selection" ] && exit

# Play movie
playing() {
    setxkbmap -layout us -option grp:win_space_toggle
    mpv "$movie_dir/$dir_selection"
}
playing

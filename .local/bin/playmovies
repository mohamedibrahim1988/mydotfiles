#!/bin/sh
# Variables
movie_dir="/media/mohamed/Movies/Movies"
rofi_command="rofi -dmenu -theme $HOME/.config/rofi/styles/MoviePlay.rasi"

# Choose subdirectory
dir_selection=$(find "$movie_dir" -type d | sed "s|$movie_dir/||" | $rofi_command)
[ -z "$dir_selection" ] && exit

# Choose movie
movie_selection=$(find "$movie_dir/$dir_selection" -type f \( -iname "*.mp4" -o -iname "*.mkv" -o -iname "*.avi" \) |
    sed 's|.*/||' | $rofi_command)
[ -z "$movie_selection" ] && exit

# Play movie
mpv "$movie_dir/$dir_selection/$movie_selection"
